import{Ab as T,Bb as j,Cb as D,Db as V,Ga as u,Ia as s,La as i,Ma as n,Na as c,Oa as O,Pa as x,Qa as P,R as M,Sa as d,Ta as p,Ua as h,Va as a,Wa as g,Xa as N,Y as C,Z as v,ha as b,mb as F,nb as I,ob as S,qb as E,tb as w,ub as k,vb as L,wb as _,xa as m,xb as B,ya as y,yb as G,zb as A}from"./chunk-WGXUJISN.js";function J(o,e){if(o&1&&(O(0,15),i(1,"div",30)(2,"div",31)(3,"span",32),a(4),n()(),i(5,"div",33)(6,"div",21)(7,"label",22),a(8,"Item Name "),n()(),i(9,"div",21),c(10,"input",34),n()(),i(11,"div",25)(12,"div",21)(13,"label",22),a(14,"Item Price "),n()(),i(15,"div",21),c(16,"input",35),n()()(),x()),o&2){let t=e.index;s("formGroupName",t),m(4),g(" Item no.",t+1," ")}}function H(o,e){if(o&1){let t=P();O(0,15),i(1,"div",16)(2,"div",17)(3,"h5",18),a(4),n()(),i(5,"div",19)(6,"div",20)(7,"div",21)(8,"label",22),a(9,"Customer Name"),n()(),i(10,"div",21),c(11,"input",23,0),n()(),i(13,"div",24),u(14,J,17,2,"ng-container",7),n(),i(15,"div",25)(16,"div",26)(17,"button",27),d("click",function(){let l=C(t).index,f=p();return v(f.addItems(l))}),c(18,"i",28),n()()(),i(19,"button",29),d("click",function(){let l=C(t).index,f=p();return v(f.removeCustomer(l))}),a(20),n()()(),x()}if(o&2){let t=e.index,r=h(12),l=p();s("formGroupName",t),m(4),g("ORDERED IN NAME OF : ",r.value," "),m(10),s("ngForOf",l.items(t).controls),m(6),g("Delete ",r.value," if Paid ")}}function q(o,e){o&1&&c(0,"img",12)}function z(o,e){o&1&&c(0,"img",13)}function K(o,e){if(o&1&&(i(0,"div",36),u(1,q,1,0,"img",37)(2,z,1,0,"img",38),n()),o&2){let t=p();m(),s("ngIf",t.image==="front"),m(),s("ngIf",t.image==="back")}}var R=class o{constructor(e,t){this._formBuilder=e;this.platformId=t}customerForm;customerName="";image="";ngOnInit(){this.customerDetailsForm(),localStorage.getItem("customer_list")&&sessionStorage.getItem("Admin")&&this.useStorage()}customerDetailsForm(){this.customerForm=this._formBuilder.group({customer:this._formBuilder.array([this._formBuilder.group({customerName:new _(""),items:this._formBuilder.array([this._formBuilder.group({itemName:new _(""),price:new _("")})])})])})}get customer(){return this.customerForm.get("customer")}items(e){return this.customer.at(e).get("items")}addCusotmer(){if(this.customer.push(this._formBuilder.group({customerName:[""],items:this._formBuilder.array([this._formBuilder.group({itemName:[""],price:[""]})])})),E(this.platformId)){let e=this.customerForm.get("customer")?.value;localStorage.setItem("customer_list",JSON.stringify(e))}}removeCustomer(e){this.customer.removeAt(e)}addItems(e){this.customer.at(e).get("items").push(this._formBuilder.group({itemName:[""],price:[""]}))}removeItems(e,t){console.log(e,t)}useStorage(){let e=localStorage.getItem("customer_list");if(e){let t=JSON.parse(e);this.customer.clear(),t.forEach(r=>this.customer.push(this.createList(r)))}}createList(e){return this._formBuilder.group({customerName:[e?.customerName],items:this._formBuilder.array((e.items||[]).map(t=>this.createItems(t)))})}createItems(e){return this._formBuilder.group({itemName:[e.itemName],price:[e.price]})}getName(e){let t=e.value;this.customerName=t}view(e){this.image=e}static \u0275fac=function(t){return new(t||o)(y(D),y(b))};static \u0275cmp=M({type:o,selectors:[["app-list"]],standalone:!0,features:[N],decls:20,vars:3,consts:[["customerName",""],[1,"list_details_page"],[1,"list_details"],[1,"list"],[1,"list-body"],[3,"formGroup"],["formArrayName","customer",1,"body","d-flex","flex-column","gap-3"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"add_customer","mt-3","pb-3"],["type","button",1,"addCustomer",3,"click"],[1,"menu"],[3,"click"],["src","assets/front.jpg","alt","",1,"image"],["src","assets/back.jpg","alt","",1,"image"],["class","view_imager",4,"ngIf"],[3,"formGroupName"],[1,"card"],[1,"card-header","d-flex","align-items-center","justify-content-center"],[1,"text-center"],[1,"card-body"],[1,"row","mb-3","align-items-center"],[1,"col"],["for","email"],["type","text","name","customer","value","","formControlName","customerName",1,"form-control"],["formArrayName","items",1,"items_list"],[1,"row","mb-3"],[1,"col","text-center"],["type","button",1,"add",3,"click"],[1,"fa-solid","fa-plus"],["type","button",1,"delete","w-100",3,"click"],[1,"items_container"],[1,"row","pb-2"],[1,"text-center",2,"text-underline-offset","5px","text-decoration-thickness","2px"],[1,"row","mb-3","mt-2"],["type","text","name","customer","formControlName","itemName",1,"form-control"],["type","text","name","customer","formControlName","price",1,"form-control"],[1,"view_imager"],["src","assets/front.jpg","class","image","alt","",4,"ngIf"],["src","assets/back.jpg","class","image","alt","",4,"ngIf"]],template:function(t,r){t&1&&(i(0,"div",1)(1,"div",2)(2,"h4"),a(3,"Customer Details"),n(),i(4,"div",3)(5,"div",4)(6,"form",5)(7,"div",6),u(8,H,21,4,"ng-container",7),n()()()(),i(9,"div",8)(10,"button",9),d("click",function(){return r.addCusotmer()}),a(11,"Add Customer"),n()()(),i(12,"div",10)(13,"h4"),a(14,"Menu"),n(),i(15,"a",11),d("click",function(){return r.view("front")}),c(16,"img",12),n(),i(17,"a",11),d("click",function(){return r.view("back")}),c(18,"img",13),n()(),u(19,K,3,2,"div",14),n()),t&2&&(m(6),s("formGroup",r.customerForm),m(2),s("ngForOf",r.customer.controls),m(11),s("ngIf",r.image))},dependencies:[V,B,w,k,L,G,j,A,T,S,F,I],styles:[".list_details[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.list_details[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background-color:#ff8}.list_details[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background-color:#ffef84}.list_details[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:2px 9px}.list_details[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .items_list[_ngcontent-%COMP%]   .items_container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:underline}.list_details[_ngcontent-%COMP%]   .add_customer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 20px}.list_details_page[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));justify-items:center;border:1px solid;padding-bottom:1rem}.menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:auto;width:32%;row-gap:10px;padding-top:1rem;align-items:center}.image[_ngcontent-%COMP%]{display:block;object-fit:cover;height:100%;width:100%}.hr[_ngcontent-%COMP%]{border:1px solid}a[_ngcontent-%COMP%]{cursor:pointer}.list_details[_ngcontent-%COMP%]{border-bottom:1px solid;padding-bottom:1rem}.view_imager[_ngcontent-%COMP%]{padding-top:1rem}"]})};export{R as a};
