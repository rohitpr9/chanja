import './polyfills.server.mjs';
import{a as E,b as k,c as L,d as C,e as B,f as G,g as T,h as A,i as j,j as D,k as V}from"./chunk-N3WJMEHE.mjs";import{$ as g,$a as d,Da as a,Ea as x,Hb as w,Ib as F,Jb as I,Mb as S,Oa as u,Qa as l,T as M,Ua as i,Va as n,Wa as s,Xa as y,Ya as O,Za as h,aa as _,ab as p,bb as b,cb as c,db as f,fb as N,la as P}from"./chunk-SFJIYLXZ.mjs";function z(o,e){if(o&1&&(y(0,15),i(1,"div",30)(2,"div",31)(3,"span",32),c(4),n()(),i(5,"div",33)(6,"div",21)(7,"label",22),c(8,"Item Name "),n()(),i(9,"div",21),s(10,"input",34),n()(),i(11,"div",25)(12,"div",21)(13,"label",22),c(14,"Item Price "),n()(),i(15,"div",21),s(16,"input",35),n()()(),O()),o&2){let t=e.index;l("formGroupName",t),a(4),f(" Item no.",t+1," ")}}function J(o,e){if(o&1){let t=h();y(0,15),i(1,"div",16)(2,"div",17)(3,"h5",18),c(4),n()(),i(5,"div",19)(6,"div",20)(7,"div",21)(8,"label",22),c(9,"Customer Name"),n()(),i(10,"div",21),s(11,"input",23,0),n()(),i(13,"div",24),u(14,z,17,2,"ng-container",7),n(),i(15,"div",25)(16,"div",26)(17,"button",27),d("click",function(){let m=g(t).index,v=p();return _(v.addItems(m))}),s(18,"i",28),n()()(),i(19,"button",29),d("click",function(){let m=g(t).index,v=p();return _(v.removeCustomer(m))}),c(20),n()()(),O()}if(o&2){let t=e.index,r=b(12),m=p();l("formGroupName",t),a(4),f("ORDERED IN NAME OF : ",r.value," "),a(10),l("ngForOf",m.items(t).controls),a(6),f("Delete ",r.value," if Paid ")}}function H(o,e){o&1&&s(0,"img",12)}function q(o,e){o&1&&s(0,"img",13)}function K(o,e){if(o&1){let t=h();i(0,"div",36)(1,"span",37),d("click",function(){g(t);let m=p();return _(m.close())}),s(2,"i",38),n(),u(3,H,1,0,"img",39)(4,q,1,0,"img",40),n()}if(o&2){let t=p();a(3),l("ngIf",t.image==="front"),a(),l("ngIf",t.image==="back")}}var R=class o{constructor(e,t){this._formBuilder=e;this.platformId=t}customerForm;customerName="";image="";ngOnInit(){this.customerDetailsForm(),localStorage.getItem("customer_list")&&sessionStorage.getItem("Admin")&&this.useStorage()}customerDetailsForm(){this.customerForm=this._formBuilder.group({customer:this._formBuilder.array([this._formBuilder.group({customerName:new C(""),items:this._formBuilder.array([this._formBuilder.group({itemName:new C(""),price:new C("")})])})])})}get customer(){return this.customerForm.get("customer")}items(e){return this.customer.at(e).get("items")}addCusotmer(){if(this.customer.push(this._formBuilder.group({customerName:[""],items:this._formBuilder.array([this._formBuilder.group({itemName:[""],price:[""]})])})),S(this.platformId)){let e=this.customerForm.get("customer")?.value;localStorage.setItem("customer_list",JSON.stringify(e))}}removeCustomer(e){this.customer.removeAt(e)}addItems(e){this.customer.at(e).get("items").push(this._formBuilder.group({itemName:[""],price:[""]}))}removeItems(e,t){console.log(e,t)}useStorage(){let e=localStorage.getItem("customer_list");if(e){let t=JSON.parse(e);this.customer.clear(),t.forEach(r=>this.customer.push(this.createList(r)))}}createList(e){return this._formBuilder.group({customerName:[e?.customerName],items:this._formBuilder.array((e.items||[]).map(t=>this.createItems(t)))})}createItems(e){return this._formBuilder.group({itemName:[e.itemName],price:[e.price]})}getName(e){let t=e.value;this.customerName=t}view(e){this.image=e}close(){this.image=""}static \u0275fac=function(t){return new(t||o)(x(D),x(P))};static \u0275cmp=M({type:o,selectors:[["app-list"]],standalone:!0,features:[N],decls:20,vars:3,consts:[["customerName",""],[1,"list_details_page"],[1,"list_details"],[1,"list"],[1,"list-body"],[3,"formGroup"],["formArrayName","customer",1,"body","d-flex","flex-column","gap-3"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"add_customer","mt-3","pb-3"],["type","button",1,"addCustomer",3,"click"],[1,"menu"],[3,"click"],["src","assets/front.jpg","alt","",1,"image"],["src","assets/back.jpg","alt","",1,"image"],["class","view_imager",4,"ngIf"],[3,"formGroupName"],[1,"card"],[1,"card-header","d-flex","align-items-center","justify-content-center"],[1,"text-center"],[1,"card-body"],[1,"row","mb-3","align-items-center"],[1,"col"],["for","email"],["type","text","name","customer","value","","formControlName","customerName",1,"form-control"],["formArrayName","items",1,"items_list"],[1,"row","mb-3"],[1,"col","text-center"],["type","button",1,"add",3,"click"],[1,"fa-solid","fa-plus"],["type","button",1,"delete","w-100",3,"click"],[1,"items_container"],[1,"row","pb-2"],[1,"text-center",2,"text-underline-offset","5px","text-decoration-thickness","2px"],[1,"row","mb-3","mt-2"],["type","text","name","customer","formControlName","itemName",1,"form-control"],["type","text","name","customer","formControlName","price",1,"form-control"],[1,"view_imager"],[1,"close",3,"click"],[1,"fa","fa-close",2,"font-size","36px"],["src","assets/front.jpg","class","image","alt","",4,"ngIf"],["src","assets/back.jpg","class","image","alt","",4,"ngIf"]],template:function(t,r){t&1&&(i(0,"div",1)(1,"div",2)(2,"h4"),c(3,"Customer Details"),n(),i(4,"div",3)(5,"div",4)(6,"form",5)(7,"div",6),u(8,J,21,4,"ng-container",7),n()()()(),i(9,"div",8)(10,"button",9),d("click",function(){return r.addCusotmer()}),c(11,"Add Customer"),n()()(),i(12,"div",10)(13,"h4"),c(14,"Menu"),n(),i(15,"a",11),d("click",function(){return r.view("front")}),s(16,"img",12),n(),i(17,"a",11),d("click",function(){return r.view("back")}),s(18,"img",13),n()(),u(19,K,5,2,"div",14),n()),t&2&&(a(6),l("formGroup",r.customerForm),a(2),l("ngForOf",r.customer.controls),a(11),l("ngIf",r.image))},dependencies:[V,B,E,k,L,G,j,T,A,I,w,F],styles:[".list_details[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.list_details[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background-color:#ff8}.list_details[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background-color:#ffef84}.list_details[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:2px 9px}.list_details[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .items_list[_ngcontent-%COMP%]   .items_container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:underline}.list_details[_ngcontent-%COMP%]   .add_customer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 20px}.list_details_page[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));justify-items:center;border:1px solid;padding-bottom:1rem}.menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:auto;width:32%;row-gap:10px;padding-top:1rem;align-items:center}.image[_ngcontent-%COMP%]{display:block;object-fit:cover;height:100%;width:100%}.hr[_ngcontent-%COMP%]{border:1px solid}a[_ngcontent-%COMP%]{cursor:pointer}.list_details[_ngcontent-%COMP%]{border-bottom:1px solid;padding-bottom:1rem}.view_imager[_ngcontent-%COMP%]{grid-row:1;width:66vw;margin-left:56.4rem;margin-top:6px;height:auto;position:relative}.close[_ngcontent-%COMP%]{position:absolute;right:12px;z-index:999999999;color:#000;cursor:pointer}@media only screen and (max-width: 600px){.view_imager[_ngcontent-%COMP%]{position:relative;top:1rem!important;width:100%!important;height:auto!important;grid-row:none!important;margin-left:unset!important}}"]})};export{R as a};
